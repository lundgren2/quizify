{"ast":null,"code":"import _classCallCheck from \"/Users/tobiaslundgren/Dev/Projects/socify-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tobiaslundgren/Dev/Projects/socify-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tobiaslundgren/Dev/Projects/socify-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tobiaslundgren/Dev/Projects/socify-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tobiaslundgren/Dev/Projects/socify-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tobiaslundgren/Dev/Projects/socify-client/client/src/components/Dashboard/index.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Container from '../ui/Container';\nimport Emoji from '../Emoji';\nimport Playlists from '../Playlists';\nimport getAccessToken from '../../utils/getAccessToken';\nimport { getUsersOwnPlaylists } from '../../utils/service';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      playlist: null,\n      redirect: false,\n      token: null\n    };\n\n    _this.linkToOverview = function (playlist) {\n      _this.props.history.push({\n        pathname: '/overview',\n        state: {\n          playlist: playlist,\n          token: _this.state.token,\n          firstTime: true\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      getAccessToken(this.props.location.search).then(function (token) {\n        getUsersOwnPlaylists(20, token).then(function (playlist) {\n          return _this2.setState({\n            playlist: playlist,\n            token: token\n          });\n        }).catch(function () {\n          return _this2.setState({\n            redirect: true\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          redirect = _this$state.redirect,\n          playlist = _this$state.playlist;\n      return redirect ? React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }) : React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Who are you today?\\u200D\\u200D\\u200D\\u200D\\u200D \", React.createElement(Emoji, {\n        symbol: \"\\uD83E\\uDD37\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Pick one playlist that best matches your mood today!\"), playlist ? React.createElement(Playlists, {\n        linkToOverview: this.linkToOverview,\n        items: playlist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nexport { Dashboard as default };","map":{"version":3,"sources":["/Users/tobiaslundgren/Dev/Projects/socify-client/client/src/components/Dashboard/index.js"],"names":["React","Component","Redirect","Container","Emoji","Playlists","getAccessToken","getUsersOwnPlaylists","Dashboard","state","playlist","redirect","token","linkToOverview","props","history","push","pathname","firstTime","location","search","then","setState","catch"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,SAASC,oBAAT,QAAqC,qBAArC;;IAEqBC,S;;;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,IADJ;AAENC,MAAAA,QAAQ,EAAE,KAFJ;AAGNC,MAAAA,KAAK,EAAE;AAHD,K;;UAaRC,c,GAAiB,UAAAH,QAAQ,EAAI;AAC3B,YAAKI,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB;AACtBC,QAAAA,QAAQ,EAAE,WADY;AAEtBR,QAAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAEA,QAAZ;AAAsBE,UAAAA,KAAK,EAAE,MAAKH,KAAL,CAAWG,KAAxC;AAA+CM,UAAAA,SAAS,EAAE;AAA1D;AAFe,OAAxB;AAID,K;;;;;;;wCAbmB;AAAA;;AAClBZ,MAAAA,cAAc,CAAC,KAAKQ,KAAL,CAAWK,QAAX,CAAoBC,MAArB,CAAd,CAA2CC,IAA3C,CAAgD,UAAAT,KAAK,EAAI;AACvDL,QAAAA,oBAAoB,CAAC,EAAD,EAAKK,KAAL,CAApB,CACGS,IADH,CACQ,UAAAX,QAAQ;AAAA,iBAAI,MAAI,CAACY,QAAL,CAAc;AAAEZ,YAAAA,QAAQ,EAAEA,QAAZ;AAAsBE,YAAAA,KAAK,EAAEA;AAA7B,WAAd,CAAJ;AAAA,SADhB,EAEGW,KAFH,CAES;AAAA,iBAAM,MAAI,CAACD,QAAL,CAAc;AAAEX,YAAAA,QAAQ,EAAE;AAAZ,WAAd,CAAN;AAAA,SAFT;AAGD,OAJD;AAKD;;;6BASQ;AAAA,wBACwB,KAAKF,KAD7B;AAAA,UACCE,QADD,eACCA,QADD;AAAA,UACWD,QADX,eACWA,QADX;AAEP,aAAOC,QAAQ,GACb,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADa,GAGb,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DAC0B,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD1B,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAJF,EAKGD,QAAQ,GACP,oBAAC,SAAD;AAAW,QAAA,cAAc,EAAE,KAAKG,cAAhC;AAAgD,QAAA,KAAK,EAAEH,QAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADO,GAEL,IAPN,CAHF;AAaD;;;;EApCoCT,S;;SAAlBO,S","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Container from '../ui/Container';\nimport Emoji from '../Emoji';\nimport Playlists from '../Playlists';\nimport getAccessToken from '../../utils/getAccessToken';\nimport { getUsersOwnPlaylists } from '../../utils/service';\n\nexport default class Dashboard extends Component {\n  state = {\n    playlist: null,\n    redirect: false,\n    token: null,\n  };\n  componentDidMount() {\n    getAccessToken(this.props.location.search).then(token => {\n      getUsersOwnPlaylists(20, token)\n        .then(playlist => this.setState({ playlist: playlist, token: token }))\n        .catch(() => this.setState({ redirect: true }));\n    });\n  }\n\n  linkToOverview = playlist => {\n    this.props.history.push({\n      pathname: '/overview',\n      state: { playlist: playlist, token: this.state.token, firstTime: true },\n    });\n  };\n\n  render() {\n    const { redirect, playlist } = this.state;\n    return redirect ? (\n      <Redirect to=\"/\" />\n    ) : (\n      <Container>\n        <h2>\n          Who are you today?‚Äç‚Äç‚Äç‚Äç‚Äç <Emoji symbol=\"ü§∑\" />\n        </h2>\n        <p>Pick one playlist that best matches your mood today!</p>\n        {playlist ? (\n          <Playlists linkToOverview={this.linkToOverview} items={playlist} />\n        ) : null}\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}